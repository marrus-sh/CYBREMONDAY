{% assign rs = include.w | split: " " %}{% for pr in rs %}{% assign R = pr %}{% if include.u and forloop.first %}{% assign R = R | capitalize %}{% endif %}{% assign I = R | slice: 0 %}{% assign i = I | downcase %}{% if include.u or i != I %}{% assign c = true %}{% else %}{% assign c = false %}{% endif %}{% assign r = R | remove_first: I | prepend: i %}{% unless "abcdefghijklmnopqrstuvwxyz" contains i %}{% assign i = "_" %}{% endunless %}{% if layout.variants == "none" or page.variants == "none" or include.variants == "none" %}{% assign O = R %}{% else %}{% assign O = site.data.variants[i][R] %}{% unless O %}{% if c %}{% assign O = site.data.variants[i][r] | capitalize %}{% endif %}{% endunless %}{% endif %}{% if O.size > 0 %}{% assign O = O | xml_escape %}{% assign R = R | xml_escape %}{% if O == R or include.p %}{{ R }}{% else %}{% include choice orig=O reg=R %}{% endif %}{% else %}{{ R | xml_escape }}{% endif %}{% unless forloop.last %}{{" "}}{% endunless %}{% endfor %}
{%- comment %}[Strip whitespace]{% endcomment -%}
